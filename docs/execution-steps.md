# 링크 저장 서비스 실행 스텝 가이드

## 목적
- PRD를 실행 가능한 단계로 쪼개 초기 빌드 순서를 정의하고, 핵심 플로우와 제약을 빠르게 파악하도록 한다.

## 공통 원칙
- 심플한 UX와 빠른 응답성을 유지하고, 불필요한 네트워크 호출/렌더를 줄인다.
- 반응형 우선: 모바일/데스크톱 모두에서 동일 기능을 제공하며 정보 우선순위를 명확히 노출한다.
- 핵심 흐름은 단위+E2E 테스트로 검증하며 `.env.example`과 `.env.local`을 동기화한다.

## 단계별 진행 순서
1) 환경/계정 세팅
   - Clerk, Supabase 프로젝트를 준비하고 키를 환경 변수로 주입한다.
   - Vite+React Router+Tailwind+shadcn(@base-ui/react) 기본 틀을 확인하고 번들/CI 빌드가 성공하는지 점검한다.
   - 데이터 모델 초안: `links`, `categories`, `link_categories`(또는 `category_id`), `users`(Clerk user id 참조), 공유 토큰 테이블 필요 여부를 정의한다.

2) 인증 및 세션 보호
   - 로그인/회원가입 UI, 세션 유지/로그아웃, 비로그인 접근 차단 라우트를 구성한다.
   - 로딩/에러 상태와 인증 실패 UX를 정의하고, 사용자 생성 시 Supabase에 사용자 레코드를 동기화한다.

3) 링크 저장/목록/삭제 (핵심 MVP)
   - URL 입력→검증→저장 플로우를 만들고 필수 필드(title/url) 기준을 정한다.
   - 목록 조회, 삭제, 즐겨찾기 토글을 제공하고, 사용자 소유권(Clerk user id)으로 스코프를 제한한다.
   - 미리보기 fetch 실패 시 수동 입력으로 대체하는 기본 에러 핸들링 규칙을 둔다.

4) 카테고리 관리 및 정리
   - 카테고리 생성/수정/삭제, 링크에 카테고리 연결/해제를 지원한다.
   - 카테고리별 필터/정렬 UX를 정의하고 빈 상태 안내를 포함한다.

5) 검색/필터/정렬
   - 제목/URL/메모 기준 클라이언트 검색부터 구현하고 데이터 양 증가 시 서버 검색으로 확장한다.
   - 카테고리/즐겨찾기 필터, 최신 저장 순/알파벳 정렬 옵션을 제공하며 입력 디바운스로 성능을 보호한다.

6) 공유 및 권한
   - 최소 기능: 읽기 전용 공유 링크(토큰 기반) 생성/취소, 소유자만 토큰을 관리하도록 한다.
   - 공유 보기 시 개인정보/편집 기능을 차단하고, 만료/철회 처리 흐름을 정의한다.

7) 부가 기능 확장
   - 메모 필드 추가와 즐겨찾기 강조 UI를 정교화한다.
   - Import/Export(예: HTML/CSV): 스키마 검증과 충돌 처리(중복 URL 정책)를 정의한다.
   - 미리보기 품질을 개선한다(메타 태그 우선, 실패 시 플레이스홀더).

8) 품질/릴리스 체크리스트
   - 핵심 플로우(auth, 링크 저장, 카테고리, 검색, 공유)에 대한 단위+E2E 테스트를 갖춘다.
   - 반응형/다국어(지원 시) 확인, 주요 브라우저/기기에서 렌더/상호작용을 검증한다.
   - 보안: 인증 토큰/공유 토큰 노출을 차단하고 입력 검증 및 권한 우회 방지를 점검한다.

## 데이터 및 책임 경계
- 신원: Clerk가 인증/세션을 담당하며, 앱은 세션 상태에 따라 라우팅과 권한만 판단한다.
- 데이터 저장: Supabase가 링크/카테고리/공유 토큰을 저장하고 모든 쿼리는 사용자 소유 범위로 제한한다.
- 클라이언트: UX, 폼 검증, 캐싱/검색 UI를 관리하며 예외 발생 시 사용자에게 안전한 메시지를 제공한다.

## 후속 고려사항
- AI 추천, 외부 연동(Notion/Trello), 커뮤니티 기능은 MVP 안정화 후 실험 트랙으로 편성한다.
